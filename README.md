[![Docker Repository on Quay](https://quay.io/repository/tkaefer/polr/status "Docker Repository on Quay")](https://quay.io/repository/tkaefer/polr)

## A dockerized Polr URL shortener deployment
### How to run
See docker-compose example in `/examples/polr-docker-compose`

### Environment variables

Currently adjustable environment variables (with their fallbacks):

```
INITIAL_USER_NAME=${INITIAL_USER_NAME:-demo}
INITIAL_USER_PASSWORD=${INITIAL_USER_PASSWORD:-demo}
INITIAL_USER_EMAIL=${INITIAL_USER_PASSWORD:-demo@test.local}

APP_KEY="${APP_KEY:-$(cat /dev/urandom | tr -dc 'a-zA-Z0-9' | fold -w 32 | head -n 1)}"
APP_NAME="${APP_NAME:-Polr}"
APP_PROTOCOL="${APP_PROTOCOL:-http://}"
APP_ADDRESS="${APP_ADDRESS:-localhost}"
APP_STYLESHEET="${APP_STYLESHEET:-}"
POLR_GENERATED_AT="$(date)"

DB_CONNECTION="${DB_CONNECTION:-mysql}"
DB_HOST="${DB_HOST:-mysql}"
DB_PORT="${DB_PORT:-3306}"
DB_DATABASE="${DB_DATABASE:-polr}"
DB_USERNAME="${DB_USERNAME:-polr}"
DB_PASSWORD="${DB_PASSWORD:-polr}"

SETTING_PUBLIC_INTERFACE="${SETTING_PUBLIC_INTERFACE:-true}"
POLR_ALLOW_ACCT_CREATION="${POLR_ALLOW_ACCT_CREATION:-false}"
POLR_ACCT_ACTIVATION="${POLR_ACCT_ACTIVATION:-false}"
SETTING_SHORTEN_PERMISSION="${SETTING_SHORTEN_PERMISSION:-false}"
SETTING_INDEX_REDIRECT="${SETTING_INDEX_REDIRECT:-}"
SETTING_REDIRECT_404="${SETTING_REDIRECT_404:-false}"
SETTING_PASSWORD_RECOV="${SETTING_PASSWORD_RECOV:-false}"
SETTING_AUTO_API="${SETTING_AUTO_API:-false}"
SETTING_ANON_API="${SETTING_ANON_API:-false}"
SETTING_ANON_API_QUOTA="${SETTING_ANON_API_QUOTA:-}"
SETTING_PSEUDORANDOM_ENDING="${SETTING_PSEUDORANDOM_ENDING:-false}"
SETTING_ADV_ANALYTICS="${SETTING_ADV_ANALYTICS:-false}"
SETTING_RESTRICT_EMAIL_DOMAIN="${SETTING_RESTRICT_EMAIL_DOMAIN:-false}"
SETTING_ALLOWED_EMAIL_DOMAINS="${SETTING_ALLOWED_EMAIL_DOMAINS:-}"


MAIL_ENABLED="${MAIL_ENABLED:-false}"
MAIL_DRIVER="${MAIL_DRIVER:-smtp}"
MAIL_HOST="${MAIL_HOST:-}"
MAIL_PORT="${MAIL_PORT:-}"
MAIL_USERNAME="${MAIL_USERNAME:-}"
MAIL_PASSWORD="${MAIL_PASSWORD:-}"
MAIL_FROM_ADDRESS="${MAIL_FROM_ADDRESS:-}"
MAIL_FROM_NAME="${MAIL_FROM_NAME:-}"
```
